---
title: "Hayley is learning how to use R"
author: "Will Mackey"
date: "02/03/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
  theme_set(theme_minimal())
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.


```{r, include=F}
sam <- 10000
data <- tibble(
  group = c(rep("Group A", sam), rep("Group B", sam)),
  outcome1 = c(rnorm(sam, 10, 5), rnorm(sam, 20, 20)),
  outcome2 = c(rnorm(sam, 4, 10), rnorm(sam, 1, 10))
)

# Look at your data
data

# Summarise your data 
summary(data)
```



## Visualise your data

### Histogram of whole dataset

Using `ggplot`:

```{r}
  ggplot(data) +
  geom_histogram(aes(x = outcome1),
               alpha = .9, bins = 40) +
    labs(title = "Histogram of outcome 1")
```


### Density by group of whole dataset

```{r}
  ggplot(data) +
  geom_density(aes(x = outcome1, 
                   fill = group),
               alpha = .8, colour = "white") +
  labs(title = "Density of outcome 1 by group")

```

### Boxplots

```{r}
  ggplot(data) +
  geom_boxplot(aes(y = outcome2, 
                   fill = group),
               alpha = .8) +
  labs(title = "Boxplot of outcome 2 by group")

```

### Relationship

```{r}
  ggplot(data) +
  geom_point(aes(x = outcome2,
                 y = outcome1,
                   colour = group),
               alpha = 0.2) +
  labs(title = "Scatter plot of outcome 1 and 2 by group")
```

And adding an OLS trend:

```{r}
  ggplot(data) +
  geom_point(aes(x = outcome2,
                 y = outcome1,
                   colour = group),
             alpha = 0.2) +
   geom_smooth(aes(x = outcome1,
                  y = outcome2,
                  colour = group),
               method = "lm") +
  labs(title = "Scatter plot and trend of outcome 1 and 2 by group")
```

## Analysis

### ANOVA

```{r}
data_aov <- aov(outcome1 ~ group, data = data)
summary(data_aov)
```

